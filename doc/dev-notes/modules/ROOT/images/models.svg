<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="605px" preserveAspectRatio="none" style="width:666px;height:605px;background:#FFFFFF;" version="1.1" viewBox="0 0 666 605" width="666px" zoomAndPan="magnify">
    <defs>
        <filter height="300%" id="f7krjicmjsrvx" width="300%" x="-1" y="-1">
            <feGaussianBlur result="blurOut" stdDeviation="2.0" />
            <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" />
            <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" />
            <feBlend in="SourceGraphic" in2="blurOut3" mode="normal" />
        </filter>
    </defs>
    <g>
        <!--MD5=[c60af77fe5573b84a4aa4bce89659574]
class Server-->
        <rect codeLine="5" fill="#FEFECE" filter="url(#f7krjicmjsrvx)" height="214.4609" id="Server" rx="7.5" ry="7.5" style="stroke:#A80036;stroke-width:1.5;" width="209" x="175" y="7" />
        <ellipse cx="255.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;" />
        <path d="M258.2188,28.6406 Q257.6406,28.9375 257,29.0781 Q256.3594,29.2344 255.6563,29.2344 Q253.1563,29.2344 251.8281,27.5938 Q250.5156,25.9375 250.5156,22.8125 Q250.5156,19.6875 251.8281,18.0313 Q253.1563,16.375 255.6563,16.375 Q256.3594,16.375 257,16.5313 Q257.6563,16.6875 258.2188,16.9844 L258.2188,19.7031 Q257.5938,19.125 257,18.8594 Q256.4063,18.5781 255.7813,18.5781 Q254.4375,18.5781 253.75,19.6563 Q253.0625,20.7188 253.0625,22.8125 Q253.0625,24.9063 253.75,25.9844 Q254.4375,27.0469 255.7813,27.0469 Q256.4063,27.0469 257,26.7813 Q257.5938,26.5 258.2188,25.9219 L258.2188,28.6406 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="40" x="275.75" y="27.1543">Server</text>
        <line style="stroke:#A80036;stroke-width:1.5;" x1="176" x2="383" y1="39" y2="39" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="181" y="53.2104">name: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="181" y="66.0151">uid: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="181" y="78.8198">location: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="181" y="91.6245">description: text</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="181" y="104.4292">api_url: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="181" y="117.2339">api_user: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="181" y="130.0386">api_password_ciphertext: text</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="197" x="181" y="142.8433">api_user_has_full_access: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="129" x="181" y="155.6479">api_verify_ssl: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="181" y="168.4526">properties: jsonb</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="181" y="181.2573">last_channel_update: timestamp</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="181" y="194.062">last_check: timestamp</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="181" y="206.8667">last_check_ok: timestamp</text>
        <line style="stroke:#A80036;stroke-width:1.5;" x1="176" x2="383" y1="213.4609" y2="213.4609" />
        <path d="M419.5,94 L419.5,110 L384.09,114 L419.5,118 L419.5,134.3984 A7.5,7.5 0 0 0 427,141.8984 L642,141.8984 A7.5,7.5 0 0 0 649.5,134.3984 L649.5,96.5 L639.5,86.5 L427,86.5 A7.5,7.5 0 0 0 419.5,94 " fill="#FBFB77" filter="url(#f7krjicmjsrvx)" style="stroke:#A80036;stroke-width:1.0;" />
        <path d="M639.5,86.5 L639.5,92.75 A3.75,3.75 0 0 0 643.25,96.5 L649.5,96.5 L639.5,86.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="425.5" y="103.5669">api_user_has_full_access = false</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="431" y="118.6997">for read only access to prevent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="459" y="133.8325">authentication failures</text>
        <!--MD5=[1e4e6ac1845d89d680410515caa0c0ac]
class Channel-->
        <rect codeLine="26" fill="#FEFECE" filter="url(#f7krjicmjsrvx)" height="73.6094" id="Channel" rx="7.5" ry="7.5" style="stroke:#A80036;stroke-width:1.5;" width="109" x="19" y="313" />
        <ellipse cx="45.7" cy="329" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;" />
        <path d="M48.6688,334.6406 Q48.0906,334.9375 47.45,335.0781 Q46.8094,335.2344 46.1063,335.2344 Q43.6063,335.2344 42.2781,333.5938 Q40.9656,331.9375 40.9656,328.8125 Q40.9656,325.6875 42.2781,324.0313 Q43.6063,322.375 46.1063,322.375 Q46.8094,322.375 47.45,322.5313 Q48.1063,322.6875 48.6688,322.9844 L48.6688,325.7031 Q48.0438,325.125 47.45,324.8594 Q46.8563,324.5781 46.2313,324.5781 Q44.8875,324.5781 44.2,325.6563 Q43.5125,326.7188 43.5125,328.8125 Q43.5125,330.9063 44.2,331.9844 Q44.8875,333.0469 46.2313,333.0469 Q46.8563,333.0469 47.45,332.7813 Q48.0438,332.5 48.6688,331.9219 L48.6688,334.6406 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51" x="62.3" y="333.1543">Channel</text>
        <line style="stroke:#A80036;stroke-width:1.5;" x1="20" x2="127" y1="345" y2="345" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="25" y="359.2104">uid: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="25" y="372.0151">properties: jsonb</text>
        <line style="stroke:#A80036;stroke-width:1.5;" x1="20" x2="127" y1="378.6094" y2="378.6094" />
        <!--MD5=[c7e4a3a7f219bd375d4e17cb1ffb3909]
class ChannelStatistic-->
        <rect codeLine="31" fill="#FEFECE" filter="url(#f7krjicmjsrvx)" height="137.6328" id="ChannelStatistic" rx="7.5" ry="7.5" style="stroke:#A80036;stroke-width:1.5;" width="134" x="234.5" y="281" />
        <ellipse cx="249.5" cy="297" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;" />
        <path d="M252.4688,302.6406 Q251.8906,302.9375 251.25,303.0781 Q250.6094,303.2344 249.9063,303.2344 Q247.4063,303.2344 246.0781,301.5938 Q244.7656,299.9375 244.7656,296.8125 Q244.7656,293.6875 246.0781,292.0313 Q247.4063,290.375 249.9063,290.375 Q250.6094,290.375 251.25,290.5313 Q251.9063,290.6875 252.4688,290.9844 L252.4688,293.7031 Q251.8438,293.125 251.25,292.8594 Q250.6563,292.5781 250.0313,292.5781 Q248.6875,292.5781 248,293.6563 Q247.3125,294.7188 247.3125,296.8125 Q247.3125,298.9063 248,299.9844 Q248.6875,301.0469 250.0313,301.0469 Q250.6563,301.0469 251.25,300.7813 Q251.8438,300.5 252.4688,299.9219 L252.4688,302.6406 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102" x="263.5" y="301.1543">ChannelStatistic</text>
        <line style="stroke:#A80036;stroke-width:1.5;" x1="235.5" x2="367.5" y1="313" y2="313" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="240.5" y="327.2104">server_uid: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="107" x="240.5" y="340.0151">channel_uid: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="240.5" y="352.8198">received: integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="240.5" y="365.6245">sent: integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="240.5" y="378.4292">error: integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="240.5" y="391.2339">filtered: integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="240.5" y="404.0386">queued: integer</text>
        <line style="stroke:#A80036;stroke-width:1.5;" x1="235.5" x2="367.5" y1="410.6328" y2="410.6328" />
        <!--MD5=[13ebb944a94f76c7ef0a19d303697e17]
class ChannelCounter-->
        <rect codeLine="41" fill="#FEFECE" filter="url(#f7krjicmjsrvx)" height="137.6328" id="ChannelCounter" rx="7.5" ry="7.5" style="stroke:#A80036;stroke-width:1.5;" width="133" x="7" y="45" />
        <ellipse cx="22" cy="61" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;" />
        <path d="M24.9688,66.6406 Q24.3906,66.9375 23.75,67.0781 Q23.1094,67.2344 22.4063,67.2344 Q19.9063,67.2344 18.5781,65.5938 Q17.2656,63.9375 17.2656,60.8125 Q17.2656,57.6875 18.5781,56.0313 Q19.9063,54.375 22.4063,54.375 Q23.1094,54.375 23.75,54.5313 Q24.4063,54.6875 24.9688,54.9844 L24.9688,57.7031 Q24.3438,57.125 23.75,56.8594 Q23.1563,56.5781 22.5313,56.5781 Q21.1875,56.5781 20.5,57.6563 Q19.8125,58.7188 19.8125,60.8125 Q19.8125,62.9063 20.5,63.9844 Q21.1875,65.0469 22.5313,65.0469 Q23.1563,65.0469 23.75,64.7813 Q24.3438,64.5 24.9688,63.9219 L24.9688,66.6406 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101" x="36" y="65.1543">ChannelCounter</text>
        <line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="139" y1="77" y2="77" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="13" y="91.2104">channel_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="13" y="104.0151">server_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="13" y="116.8198">received: integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="13" y="129.6245">sent: integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="13" y="142.4292">error: integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="13" y="155.2339">filtered: integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="13" y="168.0386">queued: integer</text>
        <line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="139" y1="174.6328" y2="174.6328" />
        <!--MD5=[0df93ba7b86d6e3ff3f57d8b1170b96e]
class Alert-->
        <rect codeLine="51" fill="#FEFECE" filter="url(#f7krjicmjsrvx)" height="99.2188" id="Alert" rx="7.5" ry="7.5" style="stroke:#A80036;stroke-width:1.5;" width="168" x="43.5" y="485.5" />
        <ellipse cx="108.75" cy="501.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;" />
        <path d="M111.7188,507.1406 Q111.1406,507.4375 110.5,507.5781 Q109.8594,507.7344 109.1563,507.7344 Q106.6563,507.7344 105.3281,506.0938 Q104.0156,504.4375 104.0156,501.3125 Q104.0156,498.1875 105.3281,496.5313 Q106.6563,494.875 109.1563,494.875 Q109.8594,494.875 110.5,495.0313 Q111.1563,495.1875 111.7188,495.4844 L111.7188,498.2031 Q111.0938,497.625 110.5,497.3594 Q109.9063,497.0781 109.2813,497.0781 Q107.9375,497.0781 107.25,498.1563 Q106.5625,499.2188 106.5625,501.3125 Q106.5625,503.4063 107.25,504.4844 Q107.9375,505.5469 109.2813,505.5469 Q109.9063,505.5469 110.5,505.2813 Q111.0938,505 111.7188,504.4219 L111.7188,507.1406 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="29" x="129.25" y="505.6543">Alert</text>
        <line style="stroke:#A80036;stroke-width:1.5;" x1="44.5" x2="210.5" y1="517.5" y2="517.5" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="49.5" y="531.7104">channel_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="49.5" y="544.5151">server_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="156" x="49.5" y="557.3198">type: string : alert, recovery</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="49.5" y="570.1245">message: text</text>
        <line style="stroke:#A80036;stroke-width:1.5;" x1="44.5" x2="210.5" y1="576.7188" y2="576.7188" />
        <!--MD5=[5d3c9bb25b1b07c105e03cfa5bc0b7ee]
class Note-->
        <rect codeLine="58" fill="#FEFECE" filter="url(#f7krjicmjsrvx)" height="112.0234" id="Note" rx="7.5" ry="7.5" style="stroke:#A80036;stroke-width:1.5;" width="136" x="299.5" y="479" />
        <ellipse cx="348.25" cy="495" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;" />
        <path d="M351.2188,500.6406 Q350.6406,500.9375 350,501.0781 Q349.3594,501.2344 348.6563,501.2344 Q346.1563,501.2344 344.8281,499.5938 Q343.5156,497.9375 343.5156,494.8125 Q343.5156,491.6875 344.8281,490.0313 Q346.1563,488.375 348.6563,488.375 Q349.3594,488.375 350,488.5313 Q350.6563,488.6875 351.2188,488.9844 L351.2188,491.7031 Q350.5938,491.125 350,490.8594 Q349.4063,490.5781 348.7813,490.5781 Q347.4375,490.5781 346.75,491.6563 Q346.0625,492.7188 346.0625,494.8125 Q346.0625,496.9063 346.75,497.9844 Q347.4375,499.0469 348.7813,499.0469 Q349.4063,499.0469 350,498.7813 Q350.5938,498.5 351.2188,497.9219 L351.2188,500.6406 Z " fill="#000000" /><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="368.75" y="499.1543">Note</text>
        <line style="stroke:#A80036;stroke-width:1.5;" x1="300.5" x2="434.5" y1="511" y2="511" /><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="305.5" y="525.2104">channel_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="305.5" y="538.0151">server_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42" x="305.5" y="550.8198">user_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="305.5" y="563.6245">message: text</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="124" x="305.5" y="576.4292">type: string : ack, mail</text>
        <line style="stroke:#A80036;stroke-width:1.5;" x1="300.5" x2="434.5" y1="583.0234" y2="583.0234" />
        <!--MD5=[af90eddff4a748015562140671816059]
link Server to Channel-->
        <path codeLine="66" d="M186.14,221.05 C157.08,254.06 126.99,288.24 105.22,312.97 " fill="none" id="Server-Channel" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="170.9901" y="241.5171">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="103.4231" y="301.8749">*</text>
        <!--MD5=[faf6992dae569d3f9d8c0508873b900b]
link Server to ChannelStatistic-->
        <path codeLine="67" d="M289.47,221.05 C291.38,241.36 293.33,262.12 295.09,280.85 " fill="none" id="Server-ChannelStatistic" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="281.9084" y="241.5171">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="287.068" y="270.0381">*</text>
        <!--MD5=[02fb209db51a37146f55d7f3b5bc6356]
link Channel to ChannelStatistic-->
        <path codeLine="68" d="M128.27,350 C163.57,350 198.87,350 234.17,350 " fill="none" id="Channel-ChannelStatistic" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="136.1672" y="346.0943">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="218.3683" y="346.2739">1</text>
        <!--MD5=[fbc738c16708044cbeb4f448191a1908]
link ChannelCounter to Server-->
        <path codeLine="69" d="M140.29,114 C151.8,114 163.31,114 174.82,114 " fill="none" id="ChannelCounter-Server" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="147.978" y="110.2739">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="158.8388" y="110.5041">1</text>
        <!--MD5=[b5736cd7f93e7ae9006cc69f0c23953f]
link ChannelCounter to Channel-->
        <path codeLine="70" d="M73.5,183.31 C73.5,225.67 73.5,278.39 73.5,312.83 " fill="none" id="ChannelCounter-Channel" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="66.1664" y="202.7217">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="64.7875" y="301.9867">1</text>
        <!--MD5=[987492a66c42a09406bf1d72e829ce6c]
link Server to Alert-->
        <path codeLine="71" d="M238.78,221.12 C231.29,240.99 223.59,261.6 216.5,281 C190.6,351.84 161.84,434.34 144.21,485.37 " fill="none" id="Server-Alert" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="227.4959" y="241.5923">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="139.0677" y="474.3969">*</text>
        <!--MD5=[27ed311f81354a581ed11163d2220eff]
link Channel to Alert-->
        <path codeLine="72" d="M84.17,387.15 C92.47,415.28 104.06,454.58 113.17,485.44 " fill="none" id="Channel-Alert" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="59.9497" y="406.6554">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="103.6627" y="474.4768">*</text>
        <!--MD5=[ceed5b908f4994f3d88bd37b0b85a256]
link Server to Note-->
        <path codeLine="73" d="M360.37,221.37 C371.13,240.35 380.5,260.61 386.5,281 C405.9,346.92 394.6,426.45 382.81,478.52 " fill="none" id="Server-Note" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="357.7749" y="241.5022">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="377.2493" y="467.796">*</text>
        <!--MD5=[b70cc4d2e094749d2eb05ba79b8eb3be]
link Channel to Note-->
        <path codeLine="74" d="M128.11,384.99 C176.52,415.12 247.4,459.24 299.48,491.66 " fill="none" id="Channel-Note" style="stroke:#A80036;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="135.8118" y="385.2657">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="284.6575" y="483.1723">*</text>
        <!--MD5=[acee6af1aae0239d1963a1e1cea28093]
@startuml
top to bottom direction
skinparam defaultTextAlignment center
skinparam roundCorner 15

class Server  {
  name: string
  uid: string
  location: string
  description: text
  api_url: string
  api_user: string
  api_password_ciphertext: text
  api_user_has_full_access: boolean
  api_verify_ssl: boolean
  properties: jsonb
  last_channel_update: timestamp
  last_check: timestamp
  last_check_ok: timestamp
}
note right of Server
  api_user_has_full_access = false
  for read only access to prevent
  authentication failures
end note

class Channel {
  uid: string
  properties: jsonb
}

class ChannelStatistic {
  server_uid: string
  channel_uid: string
  received: integer
  sent: integer
  error: integer
  filtered: integer
  queued: integer
}

class ChannelCounter {
  channel_id
  server_id
  received: integer
  sent: integer
  error: integer
  filtered: integer
  queued: integer
}

class Alert {
  channel_id
  server_id
  type: string : alert, recovery
  message: text
}

class Note {
  channel_id
  server_id
  user_id
  message: text
  type: string : ack, mail
}

Server "1" - - "*" Channel
Server "1" - "*" ChannelStatistic
Channel "1" - "1" ChannelStatistic
ChannelCounter "*" - "1" Server
ChannelCounter "*" - - "1" Channel
Server "1" - - "*" Alert
Channel "0..1" - - "*" Alert
Server "1" - - "*" Note
Channel "0..1" - - "*" Note


@enduml

PlantUML version 1.2021.8(Sat Jun 26 10:20:59 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: de
Country: DE
-->
    </g>
</svg>