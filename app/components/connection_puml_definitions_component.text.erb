' Connection <%= connection.to_s %>
' Definitions
rectangle <%= src_identifier %> as "<%= src_text %>" <%= src_color %> 
url of <%= src_identifier %> is [[<%= src_url %>]]
circle if_<%= src_identifier %> as "<%= connection.source_url %>"

rectangle mirth as "MIRTH\n<%=connection.location%>" {
  <% connection.channel_ids.each do |chid| %>
    queue channel_<%= chid %> as "<%= Channel.find(chid).name %>" <%= ("<<disabled>>".html_safe if Channel.find(chid).disabled?) %>
    url of channel_<%= chid %> is [[<%= channel_path(chid) %>]]
  <% end %>
}
rectangle <%= dst_identifier %> as "<%= dst_text %>" <%= dst_color %> 
url of <%= dst_identifier %> is [[<%= dst_url %>]]

circle if_<%= dst_identifier %> as "<%= connection.destination_url %>"
