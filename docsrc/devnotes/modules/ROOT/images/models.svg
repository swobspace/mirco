<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1244px" preserveAspectRatio="none" style="width:721px;height:1244px;background:#FFFFFF;" version="1.1" viewBox="0 0 721 1244" width="721px" zoomAndPan="magnify"><defs><filter height="300%" id="fggd8iz7ye0o" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4f1f3706c1a355a8488e154afcaed5df]
class Location--><g id="elem_Location"><rect codeLine="5" fill="#FFF1D9" filter="url(#fggd8iz7ye0o)" height="67.0679" id="Location" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="90" x="265.5" y="7"/><rect fill="#FFD080" height="32" rx="5" ry="5" style="stroke:#FFD080;stroke-width:0.5;" width="90" x="265.5" y="7"/><rect fill="#FFD080" height="5" style="stroke:#FFD080;stroke-width:0.5;" width="90" x="265.5" y="34"/><rect codeLine="5" fill="none" height="67.0679" id="Location" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="90" x="265.5" y="7"/><ellipse cx="280.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M280.6094,18.2813 Q279.6875,18.2813 278.9531,18.5938 Q278.2344,18.9063 277.7344,19.5 Q277.2344,20.0781 276.9531,20.9531 Q276.6875,21.8281 276.6875,22.9219 Q276.6875,24.3594 277.125,25.4063 Q277.5781,26.4531 278.4219,27 Q279.2813,27.5469 280.5938,27.5469 Q281.375,27.5469 282.0625,27.4219 Q282.7656,27.2813 283.7656,26.9688 L283.7656,28.8438 Q282.9063,29.1719 282.1406,29.2969 Q281.3906,29.4219 280.375,29.4219 Q278.4531,29.4219 277.1406,28.625 Q275.8438,27.8125 275.1875,26.3438 Q274.5313,24.8594 274.5313,22.8906 Q274.5313,21.4688 274.9219,20.2969 Q275.3281,19.1094 276.1094,18.2344 Q276.8906,17.3594 278.0313,16.8906 Q279.1719,16.4063 280.6406,16.4063 Q281.5938,16.4063 282.4844,16.6094 Q283.3906,16.7969 284.3281,17.2656 L283.5,19.0469 Q282.7188,18.6719 282.0625,18.4844 Q281.4063,18.2813 280.6094,18.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="294.5" y="28.432">Location</text><line style="stroke:#181818;stroke-width:0.5;" x1="266.5" x2="354.5" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="9" x="271.5" y="57.9659">...</text><line style="stroke:#181818;stroke-width:0.5;" x1="266.5" x2="354.5" y1="66.0679" y2="66.0679"/></g><!--MD5=[c62846c0c9715c1d98dd5933e5913037]
class Host--><g id="elem_Host"><rect codeLine="8" fill="#FFF1D9" filter="url(#fggd8iz7ye0o)" height="67.0679" id="Host" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="64" x="278.5" y="134"/><rect fill="#FFD080" height="32" rx="5" ry="5" style="stroke:#FFD080;stroke-width:0.5;" width="64" x="278.5" y="134"/><rect fill="#FFD080" height="5" style="stroke:#FFD080;stroke-width:0.5;" width="64" x="278.5" y="161"/><rect codeLine="8" fill="none" height="67.0679" id="Host" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="64" x="278.5" y="134"/><ellipse cx="293.5" cy="150" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M293.6094,145.2813 Q292.6875,145.2813 291.9531,145.5938 Q291.2344,145.9063 290.7344,146.5 Q290.2344,147.0781 289.9531,147.9531 Q289.6875,148.8281 289.6875,149.9219 Q289.6875,151.3594 290.125,152.4063 Q290.5781,153.4531 291.4219,154 Q292.2813,154.5469 293.5938,154.5469 Q294.375,154.5469 295.0625,154.4219 Q295.7656,154.2813 296.7656,153.9688 L296.7656,155.8438 Q295.9063,156.1719 295.1406,156.2969 Q294.3906,156.4219 293.375,156.4219 Q291.4531,156.4219 290.1406,155.625 Q288.8438,154.8125 288.1875,153.3438 Q287.5313,151.8594 287.5313,149.8906 Q287.5313,148.4688 287.9219,147.2969 Q288.3281,146.1094 289.1094,145.2344 Q289.8906,144.3594 291.0313,143.8906 Q292.1719,143.4063 293.6406,143.4063 Q294.5938,143.4063 295.4844,143.6094 Q296.3906,143.7969 297.3281,144.2656 L296.5,146.0469 Q295.7188,145.6719 295.0625,145.4844 Q294.4063,145.2813 293.6094,145.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="307.5" y="155.432">Host</text><line style="stroke:#181818;stroke-width:0.5;" x1="279.5" x2="341.5" y1="166" y2="166"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="9" x="284.5" y="184.9659">...</text><line style="stroke:#181818;stroke-width:0.5;" x1="279.5" x2="341.5" y1="193.0679" y2="193.0679"/></g><!--MD5=[9a4e82909ed2a34282a01ef45d4a08d6]
class SoftwareConnection--><g id="elem_SoftwareConnection"><rect codeLine="11" fill="#FFF1D9" filter="url(#fggd8iz7ye0o)" height="67.0679" id="SoftwareConnection" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="167" x="378" y="134"/><rect fill="#FFD080" height="32" rx="5" ry="5" style="stroke:#FFD080;stroke-width:0.5;" width="167" x="378" y="134"/><rect fill="#FFD080" height="5" style="stroke:#FFD080;stroke-width:0.5;" width="167" x="378" y="161"/><rect codeLine="11" fill="none" height="67.0679" id="SoftwareConnection" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="167" x="378" y="134"/><ellipse cx="393" cy="150" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M393.1094,145.2813 Q392.1875,145.2813 391.4531,145.5938 Q390.7344,145.9063 390.2344,146.5 Q389.7344,147.0781 389.4531,147.9531 Q389.1875,148.8281 389.1875,149.9219 Q389.1875,151.3594 389.625,152.4063 Q390.0781,153.4531 390.9219,154 Q391.7813,154.5469 393.0938,154.5469 Q393.875,154.5469 394.5625,154.4219 Q395.2656,154.2813 396.2656,153.9688 L396.2656,155.8438 Q395.4063,156.1719 394.6406,156.2969 Q393.8906,156.4219 392.875,156.4219 Q390.9531,156.4219 389.6406,155.625 Q388.3438,154.8125 387.6875,153.3438 Q387.0313,151.8594 387.0313,149.8906 Q387.0313,148.4688 387.4219,147.2969 Q387.8281,146.1094 388.6094,145.2344 Q389.3906,144.3594 390.5313,143.8906 Q391.6719,143.4063 393.1406,143.4063 Q394.0938,143.4063 394.9844,143.6094 Q395.8906,143.7969 396.8281,144.2656 L396,146.0469 Q395.2188,145.6719 394.5625,145.4844 Q393.9063,145.2813 393.1094,145.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="407" y="155.432">SoftwareConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="379" x2="544" y1="166" y2="166"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="9" x="384" y="184.9659">...</text><line style="stroke:#181818;stroke-width:0.5;" x1="379" x2="544" y1="193.0679" y2="193.0679"/></g><!--MD5=[c60af77fe5573b84a4aa4bce89659574]
class Server--><g id="elem_Server"><rect codeLine="15" fill="#FFF1D9" filter="url(#fggd8iz7ye0o)" height="314.9508" id="Server" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="229" x="272" y="261"/><rect fill="#FFD080" height="32" rx="5" ry="5" style="stroke:#FFD080;stroke-width:0.5;" width="229" x="272" y="261"/><rect fill="#FFD080" height="5" style="stroke:#FFD080;stroke-width:0.5;" width="229" x="272" y="288"/><rect codeLine="15" fill="none" height="314.9508" id="Server" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="229" x="272" y="261"/><ellipse cx="361.75" cy="277" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M361.8594,272.2813 Q360.9375,272.2813 360.2031,272.5938 Q359.4844,272.9063 358.9844,273.5 Q358.4844,274.0781 358.2031,274.9531 Q357.9375,275.8281 357.9375,276.9219 Q357.9375,278.3594 358.375,279.4063 Q358.8281,280.4531 359.6719,281 Q360.5313,281.5469 361.8438,281.5469 Q362.625,281.5469 363.3125,281.4219 Q364.0156,281.2813 365.0156,280.9688 L365.0156,282.8438 Q364.1563,283.1719 363.3906,283.2969 Q362.6406,283.4219 361.625,283.4219 Q359.7031,283.4219 358.3906,282.625 Q357.0938,281.8125 356.4375,280.3438 Q355.7813,278.8594 355.7813,276.8906 Q355.7813,275.4688 356.1719,274.2969 Q356.5781,273.1094 357.3594,272.2344 Q358.1406,271.3594 359.2813,270.8906 Q360.4219,270.4063 361.8906,270.4063 Q362.8438,270.4063 363.7344,270.6094 Q364.6406,270.7969 365.5781,271.2656 L364.75,273.0469 Q363.9688,272.6719 363.3125,272.4844 Q362.6563,272.2813 361.8594,272.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="382.25" y="282.432">Server</text><line style="stroke:#181818;stroke-width:0.5;" x1="273" x2="500" y1="293" y2="293"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="278" y="311.9659">host_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="278" y="331.0339">name: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="278" y="350.1018">uid: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="278" y="369.1697">description: text</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="278" y="388.2376">api_url: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="278" y="407.3055">api_user: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="278" y="426.3734">api_password_ciphertext: text</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217" x="278" y="445.4414">api_user_has_full_access: boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="278" y="464.5093">api_verify_ssl: boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="278" y="483.5772">properties: jsonb</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="278" y="502.6451">last_channel_update: timestamp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="278" y="521.713">last_check: timestamp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="278" y="540.7809">last_check_ok: timestamp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="278" y="559.8489">manual_update: boolean</text><line style="stroke:#181818;stroke-width:0.5;" x1="273" x2="500" y1="567.9508" y2="567.9508"/></g><!--MD5=[1e4e6ac1845d89d680410515caa0c0ac]
class Channel--><g id="elem_Channel"><rect codeLine="32" fill="#FFF1D9" filter="url(#fggd8iz7ye0o)" height="105.2038" id="Channel" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="123" x="7" y="779"/><rect fill="#FFD080" height="32" rx="5" ry="5" style="stroke:#FFD080;stroke-width:0.5;" width="123" x="7" y="779"/><rect fill="#FFD080" height="5" style="stroke:#FFD080;stroke-width:0.5;" width="123" x="7" y="806"/><rect codeLine="32" fill="none" height="105.2038" id="Channel" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="123" x="7" y="779"/><ellipse cx="39.55" cy="795" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M39.6594,790.2813 Q38.7375,790.2813 38.0031,790.5938 Q37.2844,790.9063 36.7844,791.5 Q36.2844,792.0781 36.0031,792.9531 Q35.7375,793.8281 35.7375,794.9219 Q35.7375,796.3594 36.175,797.4063 Q36.6281,798.4531 37.4719,799 Q38.3313,799.5469 39.6438,799.5469 Q40.425,799.5469 41.1125,799.4219 Q41.8156,799.2813 42.8156,798.9688 L42.8156,800.8438 Q41.9563,801.1719 41.1906,801.2969 Q40.4406,801.4219 39.425,801.4219 Q37.5031,801.4219 36.1906,800.625 Q34.8938,799.8125 34.2375,798.3438 Q33.5813,796.8594 33.5813,794.8906 Q33.5813,793.4688 33.9719,792.2969 Q34.3781,791.1094 35.1594,790.2344 Q35.9406,789.3594 37.0813,788.8906 Q38.2219,788.4063 39.6906,788.4063 Q40.6438,788.4063 41.5344,788.6094 Q42.4406,788.7969 43.3781,789.2656 L42.55,791.0469 Q41.7688,790.6719 41.1125,790.4844 Q40.4563,790.2813 39.6594,790.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="57.45" y="800.432">Channel</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="129" y1="811" y2="811"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="13" y="829.9659">uid: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="13" y="849.0339">properties: jsonb</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="13" y="868.1018">enabled: boolean</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="129" y1="876.2038" y2="876.2038"/></g><!--MD5=[c7e4a3a7f219bd375d4e17cb1ffb3909]
class ChannelStatistic--><g id="elem_ChannelStatistic"><rect codeLine="38" fill="#FFF1D9" filter="url(#fggd8iz7ye0o)" height="391.2225" id="ChannelStatistic" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="260" x="165.5" y="636"/><rect fill="#FFD080" height="32" rx="5" ry="5" style="stroke:#FFD080;stroke-width:0.5;" width="260" x="165.5" y="636"/><rect fill="#FFD080" height="5" style="stroke:#FFD080;stroke-width:0.5;" width="260" x="165.5" y="663"/><rect codeLine="38" fill="none" height="391.2225" id="ChannelStatistic" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="260" x="165.5" y="636"/><ellipse cx="238.25" cy="652" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M238.3594,647.2813 Q237.4375,647.2813 236.7031,647.5938 Q235.9844,647.9063 235.4844,648.5 Q234.9844,649.0781 234.7031,649.9531 Q234.4375,650.8281 234.4375,651.9219 Q234.4375,653.3594 234.875,654.4063 Q235.3281,655.4531 236.1719,656 Q237.0313,656.5469 238.3438,656.5469 Q239.125,656.5469 239.8125,656.4219 Q240.5156,656.2813 241.5156,655.9688 L241.5156,657.8438 Q240.6563,658.1719 239.8906,658.2969 Q239.1406,658.4219 238.125,658.4219 Q236.2031,658.4219 234.8906,657.625 Q233.5938,656.8125 232.9375,655.3438 Q232.2813,653.8594 232.2813,651.8906 Q232.2813,650.4688 232.6719,649.2969 Q233.0781,648.1094 233.8594,647.2344 Q234.6406,646.3594 235.7813,645.8906 Q236.9219,645.4063 238.3906,645.4063 Q239.3438,645.4063 240.2344,645.6094 Q241.1406,645.7969 242.0781,646.2656 L241.25,648.0469 Q240.4688,647.6719 239.8125,647.4844 Q239.1563,647.2813 238.3594,647.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="258.75" y="657.432">ChannelStatistic</text><line style="stroke:#181818;stroke-width:0.5;" x1="166.5" x2="424.5" y1="668" y2="668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="171.5" y="686.9659">server_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="171.5" y="706.0339">channel_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="171.5" y="725.1018">server_uid: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="171.5" y="744.1697">channel_uid: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="171.5" y="763.2376">meta_data_id: integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="171.5" y="782.3055">name: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="171.5" y="801.3734">state: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="171.5" y="820.4414">status_type: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="171.5" y="839.5093">received: integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="171.5" y="858.5772">sent: integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="171.5" y="877.6451">error: integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="171.5" y="896.713">filtered: integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="171.5" y="915.7809">queued: integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="171.5" y="934.8489">condition: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223" x="171.5" y="953.9168">last_condition_change: timestamp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="171.5" y="972.9847">last_message_received_at: timestamp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223" x="171.5" y="992.0526">last_message_sent_at: timestamp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226" x="171.5" y="1011.1205">last_message_error_at: timestamp</text><line style="stroke:#181818;stroke-width:0.5;" x1="166.5" x2="424.5" y1="1019.2225" y2="1019.2225"/></g><!--MD5=[13ebb944a94f76c7ef0a19d303697e17]
class ChannelCounter--><g id="elem_ChannelCounter"><rect codeLine="59" fill="#FFF1D9" filter="url(#fggd8iz7ye0o)" height="219.6113" id="ChannelCounter" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="153" x="84" y="308.5"/><rect fill="#FFD080" height="32" rx="5" ry="5" style="stroke:#FFD080;stroke-width:0.5;" width="153" x="84" y="308.5"/><rect fill="#FFD080" height="5" style="stroke:#FFD080;stroke-width:0.5;" width="153" x="84" y="335.5"/><rect codeLine="59" fill="none" height="219.6113" id="ChannelCounter" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="153" x="84" y="308.5"/><ellipse cx="106.2" cy="324.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M106.3094,319.7813 Q105.3875,319.7813 104.6531,320.0938 Q103.9344,320.4063 103.4344,321 Q102.9344,321.5781 102.6531,322.4531 Q102.3875,323.3281 102.3875,324.4219 Q102.3875,325.8594 102.825,326.9063 Q103.2781,327.9531 104.1219,328.5 Q104.9813,329.0469 106.2938,329.0469 Q107.075,329.0469 107.7625,328.9219 Q108.4656,328.7813 109.4656,328.4688 L109.4656,330.3438 Q108.6063,330.6719 107.8406,330.7969 Q107.0906,330.9219 106.075,330.9219 Q104.1531,330.9219 102.8406,330.125 Q101.5438,329.3125 100.8875,327.8438 Q100.2313,326.3594 100.2313,324.3906 Q100.2313,322.9688 100.6219,321.7969 Q101.0281,320.6094 101.8094,319.7344 Q102.5906,318.8594 103.7313,318.3906 Q104.8719,317.9063 106.3406,317.9063 Q107.2938,317.9063 108.1844,318.1094 Q109.0906,318.2969 110.0281,318.7656 L109.2,320.5469 Q108.4188,320.1719 107.7625,319.9844 Q107.1063,319.7813 106.3094,319.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="121.8" y="329.932">ChannelCounter</text><line style="stroke:#181818;stroke-width:0.5;" x1="85" x2="236" y1="340.5" y2="340.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="90" y="359.4659">channel_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="90" y="378.5339">server_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="90" y="397.6018">channel_statistic_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="90" y="416.6697">meta_data_id: integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="90" y="435.7376">received: integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="90" y="454.8055">sent: integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="90" y="473.8734">error: integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="90" y="492.9414">filtered: integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="90" y="512.0093">queued: integer</text><line style="stroke:#181818;stroke-width:0.5;" x1="85" x2="236" y1="520.1113" y2="520.1113"/></g><!--MD5=[0df93ba7b86d6e3ff3f57d8b1170b96e]
class Alert--><g id="elem_Alert"><rect codeLine="71" fill="#FFF1D9" filter="url(#fggd8iz7ye0o)" height="143.3396" id="Alert" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="190" x="96.5" y="1087"/><rect fill="#FFD080" height="32" rx="5" ry="5" style="stroke:#FFD080;stroke-width:0.5;" width="190" x="96.5" y="1087"/><rect fill="#FFD080" height="5" style="stroke:#FFD080;stroke-width:0.5;" width="190" x="96.5" y="1114"/><rect codeLine="71" fill="none" height="143.3396" id="Alert" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="190" x="96.5" y="1087"/><ellipse cx="171.75" cy="1103" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M171.8594,1098.2813 Q170.9375,1098.2813 170.2031,1098.5938 Q169.4844,1098.9063 168.9844,1099.5 Q168.4844,1100.0781 168.2031,1100.9531 Q167.9375,1101.8281 167.9375,1102.9219 Q167.9375,1104.3594 168.375,1105.4063 Q168.8281,1106.4531 169.6719,1107 Q170.5313,1107.5469 171.8438,1107.5469 Q172.625,1107.5469 173.3125,1107.4219 Q174.0156,1107.2813 175.0156,1106.9688 L175.0156,1108.8438 Q174.1563,1109.1719 173.3906,1109.2969 Q172.6406,1109.4219 171.625,1109.4219 Q169.7031,1109.4219 168.3906,1108.625 Q167.0938,1107.8125 166.4375,1106.3438 Q165.7813,1104.8594 165.7813,1102.8906 Q165.7813,1101.4688 166.1719,1100.2969 Q166.5781,1099.1094 167.3594,1098.2344 Q168.1406,1097.3594 169.2813,1096.8906 Q170.4219,1096.4063 171.8906,1096.4063 Q172.8438,1096.4063 173.7344,1096.6094 Q174.6406,1096.7969 175.5781,1097.2656 L174.75,1099.0469 Q173.9688,1098.6719 173.3125,1098.4844 Q172.6563,1098.2813 171.8594,1098.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="192.25" y="1108.432">Alert</text><line style="stroke:#181818;stroke-width:0.5;" x1="97.5" x2="285.5" y1="1119" y2="1119"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="102.5" y="1137.9659">channel_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="102.5" y="1157.0339">server_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="102.5" y="1176.1018">channel_statistic_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="102.5" y="1195.1697">type: string : alert, recovery</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="102.5" y="1214.2376">message: text</text><line style="stroke:#181818;stroke-width:0.5;" x1="97.5" x2="285.5" y1="1222.3396" y2="1222.3396"/></g><!--MD5=[5d3c9bb25b1b07c105e03cfa5bc0b7ee]
class Note--><g id="elem_Note"><rect codeLine="79" fill="#FFF1D9" filter="url(#fggd8iz7ye0o)" height="143.3396" id="Note" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="153" x="322" y="1087"/><rect fill="#FFD080" height="32" rx="5" ry="5" style="stroke:#FFD080;stroke-width:0.5;" width="153" x="322" y="1087"/><rect fill="#FFD080" height="5" style="stroke:#FFD080;stroke-width:0.5;" width="153" x="322" y="1114"/><rect codeLine="79" fill="none" height="143.3396" id="Note" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="153" x="322" y="1087"/><ellipse cx="377.25" cy="1103" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M377.3594,1098.2813 Q376.4375,1098.2813 375.7031,1098.5938 Q374.9844,1098.9063 374.4844,1099.5 Q373.9844,1100.0781 373.7031,1100.9531 Q373.4375,1101.8281 373.4375,1102.9219 Q373.4375,1104.3594 373.875,1105.4063 Q374.3281,1106.4531 375.1719,1107 Q376.0313,1107.5469 377.3438,1107.5469 Q378.125,1107.5469 378.8125,1107.4219 Q379.5156,1107.2813 380.5156,1106.9688 L380.5156,1108.8438 Q379.6563,1109.1719 378.8906,1109.2969 Q378.1406,1109.4219 377.125,1109.4219 Q375.2031,1109.4219 373.8906,1108.625 Q372.5938,1107.8125 371.9375,1106.3438 Q371.2813,1104.8594 371.2813,1102.8906 Q371.2813,1101.4688 371.6719,1100.2969 Q372.0781,1099.1094 372.8594,1098.2344 Q373.6406,1097.3594 374.7813,1096.8906 Q375.9219,1096.4063 377.3906,1096.4063 Q378.3438,1096.4063 379.2344,1096.6094 Q380.1406,1096.7969 381.0781,1097.2656 L380.25,1099.0469 Q379.4688,1098.6719 378.8125,1098.4844 Q378.1563,1098.2813 377.3594,1098.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="397.75" y="1108.432">Note</text><line style="stroke:#181818;stroke-width:0.5;" x1="323" x2="474" y1="1119" y2="1119"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="328" y="1137.9659">channel_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="328" y="1157.0339">server_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="328" y="1176.1018">channel_statistic_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="328" y="1195.1697">user_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="328" y="1214.2376">type: string : ack, mail</text><line style="stroke:#181818;stroke-width:0.5;" x1="323" x2="474" y1="1222.3396" y2="1222.3396"/></g><!--MD5=[d19e87a2954ae03571d2212ad7d3f494]
class ServerConfiguration--><g id="elem_ServerConfiguration"><rect codeLine="87" fill="#FFF1D9" filter="url(#fggd8iz7ye0o)" height="105.2038" id="ServerConfiguration" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="171" x="536" y="366"/><rect fill="#FFD080" height="32" rx="5" ry="5" style="stroke:#FFD080;stroke-width:0.5;" width="171" x="536" y="366"/><rect fill="#FFD080" height="5" style="stroke:#FFD080;stroke-width:0.5;" width="171" x="536" y="393"/><rect codeLine="87" fill="none" height="105.2038" id="ServerConfiguration" rx="5" ry="5" style="stroke:#181818;stroke-width:0.5;" width="171" x="536" y="366"/><ellipse cx="555.05" cy="382" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M555.1594,377.2813 Q554.2375,377.2813 553.5031,377.5938 Q552.7844,377.9063 552.2844,378.5 Q551.7844,379.0781 551.5031,379.9531 Q551.2375,380.8281 551.2375,381.9219 Q551.2375,383.3594 551.675,384.4063 Q552.1281,385.4531 552.9719,386 Q553.8313,386.5469 555.1438,386.5469 Q555.925,386.5469 556.6125,386.4219 Q557.3156,386.2813 558.3156,385.9688 L558.3156,387.8438 Q557.4563,388.1719 556.6906,388.2969 Q555.9406,388.4219 554.925,388.4219 Q553.0031,388.4219 551.6906,387.625 Q550.3938,386.8125 549.7375,385.3438 Q549.0813,383.8594 549.0813,381.8906 Q549.0813,380.4688 549.4719,379.2969 Q549.8781,378.1094 550.6594,377.2344 Q551.4406,376.3594 552.5813,375.8906 Q553.7219,375.4063 555.1906,375.4063 Q556.1438,375.4063 557.0344,375.6094 Q557.9406,375.7969 558.8781,376.2656 L558.05,378.0469 Q557.2688,377.6719 556.6125,377.4844 Q555.9563,377.2813 555.1594,377.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="569.95" y="387.432">ServerConfiguration</text><line style="stroke:#181818;stroke-width:0.5;" x1="537" x2="706" y1="398" y2="398"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="556" y="416.9659">server_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="556" y="436.0339">comment: string</text><polygon fill="none" points="547,442.1358,551,446.1358,547,450.1358,543,446.1358" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="556" y="455.1018">has_one_attached :file</text><line style="stroke:#181818;stroke-width:0.5;" x1="537" x2="706" y1="463.2038" y2="463.2038"/></g><!--MD5=[067dfe80012d45ff94a0e59ff0bc5bf6]
link Location to Host--><g id="link_Location_Host"><path codeLine="93" d="M310.5,74.02 C310.5,92.39 310.5,115.29 310.5,133.71 " fill="none" id="Location-Host" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="302.8328" y="95.9879">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="302.7781" y="121.9505">*</text></g><!--MD5=[98bb40404081c9409142fcd2a16e7a2d]
link Host to Server--><g id="link_Host_Server"><path codeLine="94" d="M320.44,201.05 C325.4,217.33 331.82,238.35 338.7,260.88 " fill="none" id="Host-Server" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="314.6676" y="223.0236">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="329.0548" y="249.2309">*</text></g><!--MD5=[2ae6832cfa9b6872f98777380031d694]
link SoftwareConnection to Server--><g id="link_SoftwareConnection_Server"><path codeLine="95" d="M451.7,201.05 C446.79,217.33 440.46,238.35 433.68,260.88 " fill="none" id="SoftwareConnection-Server" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="442.1647" y="223.0236">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="428.9323" y="249.2309">1</text></g><!--MD5=[af90eddff4a748015562140671816059]
link Server to Channel--><g id="link_Server_Channel"><path codeLine="96" d="M271.97,560.62 C266.22,565.98 260.39,571.13 254.5,576 C212.47,610.73 183.56,595.11 147.5,636 C111.46,676.86 90.57,736.33 79.43,778.74 " fill="none" id="Server-Channel" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="257.0399" y="566.52">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="73.4748" y="767.0576">*</text></g><!--MD5=[830d6e454d5b2f37b38112460f363d60]
link Server to ServerConfiguration--><g id="link_Server_ServerConfiguration"><path codeLine="97" d="M501.25,418.5 C512.68,418.5 524.11,418.5 535.54,418.5 " fill="none" id="Server-ServerConfiguration" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="508.8254" y="414.8767">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="521.1316" y="414.7139">*</text></g><!--MD5=[faf6992dae569d3f9d8c0508873b900b]
link Server to ChannelStatistic--><g id="link_Server_ChannelStatistic"><path codeLine="98" d="M351.84,576.05 C347.52,595.56 343.06,615.7 338.63,635.7 " fill="none" id="Server-ChannelStatistic" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="342.9916" y="598.0083">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="333.3019" y="623.9883">*</text></g><!--MD5=[02fb209db51a37146f55d7f3b5bc6356]
link Channel to ChannelStatistic--><g id="link_Channel_ChannelStatistic"><path codeLine="99" d="M130.13,831.5 C141.86,831.5 153.6,831.5 165.33,831.5 " fill="none" id="Channel-ChannelStatistic" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="138.0677" y="827.3917">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="150.6022" y="827.9196">*</text></g><!--MD5=[fbc738c16708044cbeb4f448191a1908]
link ChannelCounter to Server--><g id="link_ChannelCounter_Server"><path codeLine="100" d="M237.3,418.5 C248.86,418.5 260.42,418.5 271.98,418.5 " fill="none" id="ChannelCounter-Server" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="244.9536" y="414.639">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="257.0505" y="414.8513">1</text></g><!--MD5=[b5736cd7f93e7ae9006cc69f0c23953f]
link ChannelCounter to Channel--><g id="link_ChannelCounter_Channel"><path codeLine="101" d="M136.09,528.56 C117.96,609.54 94.05,716.35 80.07,778.82 " fill="none" id="ChannelCounter-Channel" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="127.302" y="550.0873">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="82.1892" y="767.1489">1</text></g><!--MD5=[bbb9afc21c5fea95aabcd00d79c6ecf1]
link ChannelCounter to ChannelStatistic--><g id="link_ChannelCounter_ChannelStatistic"><path codeLine="102" d="M196.32,528.56 C207.18,561.62 219.45,598.98 231.57,635.87 " fill="none" id="ChannelCounter-ChannelStatistic" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="191.3905" y="550.0873">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="221.7253" y="624.1655">1</text></g><!--MD5=[987492a66c42a09406bf1d72e829ce6c]
link Server to Alert--><g id="link_Server_Alert"><path codeLine="103" d="M452.19,576.11 C495.99,707.24 531.09,893.79 443.5,1027 C406.53,1083.22 364.1,1055.77 304.5,1087 C298.66,1090.06 292.72,1093.31 286.78,1096.67 " fill="none" id="Server-Alert" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="448.2023" y="598.0713">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="294.6515" y="1087.9772">*</text></g><!--MD5=[27ed311f81354a581ed11163d2220eff]
link Channel to Alert--><g id="link_Channel_Alert"><path codeLine="104" d="M88.13,884.36 C108.85,939.11 141.64,1025.77 164.73,1086.76 " fill="none" id="Channel-Alert" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="91.9263" y="906.1509">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="154.6084" y="1075.4012">*</text></g><!--MD5=[4a412d2b4f6ae338b5d74d2103219064]
link ChannelStatistic to Alert--><g id="link_ChannelStatistic_Alert"><path codeLine="105" d="M233.2,1027.18 C226.45,1048.27 219.95,1068.61 214.16,1086.69 " fill="none" id="ChannelStatistic-Alert" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="210.3758" y="1049.0622">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="209.1359" y="1075.3239">*</text></g><!--MD5=[ceed5b908f4994f3d88bd37b0b85a256]
link Server to Note--><g id="link_Server_Note"><path codeLine="106" d="M483.43,576.28 C492.03,595.82 499.4,615.99 504.5,636 C547.41,804.4 562.63,863.23 504.5,1027 C496.93,1048.32 484.23,1068.69 470.2,1086.73 " fill="none" id="Server-Note" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="480.6635" y="597.7287">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="470.2331" y="1075.3681">*</text></g><!--MD5=[b70cc4d2e094749d2eb05ba79b8eb3be]
link Channel to Note--><g id="link_Channel_Note"><path codeLine="107" d="M77.63,884.39 C87.76,927.74 108.18,988.49 147.5,1027 C200.87,1079.27 239.1,1050.91 304.5,1087 C310.3,1090.2 316.15,1093.73 321.93,1097.45 " fill="none" id="Channel-Note" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="57.5185" y="906.1848">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="307.0481" y="1087.5187">*</text></g><!--MD5=[631f6531af220d90bdc65bbca1a614ce]
link ChannelStatistic to Note--><g id="link_ChannelStatistic_Note"><path codeLine="108" d="M357.2,1027.18 C363.88,1048.27 370.33,1068.61 376.06,1086.69 " fill="none" id="ChannelStatistic-Note" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="339.2195" y="1049.0622">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="366.3849" y="1075.3239">*</text></g><!--MD5=[4823a74c1b263863452341e07a0f4d63]
@startuml
top to bottom direction

!theme mirco from .

class Location {
  ...
}
class Host {
  ...
}
class SoftwareConnection {
  ...
}

class Server  {
  host_id
  name: string
  uid: string
  description: text
  api_url: string
  api_user: string
  api_password_ciphertext: text
  api_user_has_full_access: boolean
  api_verify_ssl: boolean
  properties: jsonb
  last_channel_update: timestamp
  last_check: timestamp
  last_check_ok: timestamp
  manual_update: boolean
}

class Channel {
  uid: string
  properties: jsonb
  enabled: boolean
}

class ChannelStatistic {
  server_id
  channel_id
  server_uid: string
  channel_uid: string
  meta_data_id: integer
  name: string
  state: string
  status_type: string
  received: integer
  sent: integer
  error: integer
  filtered: integer
  queued: integer
  condition: string
  last_condition_change: timestamp
  last_message_received_at: timestamp
  last_message_sent_at: timestamp
  last_message_error_at: timestamp
}

class ChannelCounter {
  channel_id
  server_id
  channel_statistic_id
  meta_data_id: integer
  received: integer
  sent: integer
  error: integer
  filtered: integer
  queued: integer
}

class Alert {
  channel_id
  server_id
  channel_statistic_id
  type: string : alert, recovery
  message: text
}

class Note {
  channel_id
  server_id
  channel_statistic_id
  user_id
  type: string : ack, mail
}

class ServerConfiguration {
  server_id
  comment: string
  # has_one_attached :file
}

Location "1" - - "*" Host
Host "1" - - "*" Server
SoftwareConnection "*" - - "1" "Server"
Server "1" - - "*" Channel
Server "1" - "*" ServerConfiguration
Server "1" - "*" ChannelStatistic
Channel "1" - "*" ChannelStatistic
ChannelCounter "*" - "1" Server
ChannelCounter "*" - - "1" Channel
ChannelCounter "*" - - "1" ChannelStatistic
Server "1" - - "*" Alert
Channel "0..1" - - "*" Alert
ChannelStatistic "0..1" - - "*" Alert
Server "1" - - "*" Note
Channel "0..1" - - "*" Note
ChannelStatistic "0..1" - - "*" Note

@enduml

@startuml
top to bottom direction


skinparam defaultTextAlignment center
skinparam roundCorner 10
skinparam shadowing 4.0
<style>
  circle {
    BackGroundColor #aaaaaaa
  }
  rectangle {
    BackGroundColor Gold
  }
  file {
    BackGroundColor Gold
  }
  queue {
    BackgroundColor #C7FCF6
    padding 10
  }
  document {
    BackGroundColor white
  }
</style>


skinparam class {
  BackgroundColor #FFF1D9
	HeaderBackgroundColor  #FFD080
}

class Location {
  ...
}
class Host {
  ...
}
class SoftwareConnection {
  ...
}

class Server  {
  host_id
  name: string
  uid: string
  description: text
  api_url: string
  api_user: string
  api_password_ciphertext: text
  api_user_has_full_access: boolean
  api_verify_ssl: boolean
  properties: jsonb
  last_channel_update: timestamp
  last_check: timestamp
  last_check_ok: timestamp
  manual_update: boolean
}

class Channel {
  uid: string
  properties: jsonb
  enabled: boolean
}

class ChannelStatistic {
  server_id
  channel_id
  server_uid: string
  channel_uid: string
  meta_data_id: integer
  name: string
  state: string
  status_type: string
  received: integer
  sent: integer
  error: integer
  filtered: integer
  queued: integer
  condition: string
  last_condition_change: timestamp
  last_message_received_at: timestamp
  last_message_sent_at: timestamp
  last_message_error_at: timestamp
}

class ChannelCounter {
  channel_id
  server_id
  channel_statistic_id
  meta_data_id: integer
  received: integer
  sent: integer
  error: integer
  filtered: integer
  queued: integer
}

class Alert {
  channel_id
  server_id
  channel_statistic_id
  type: string : alert, recovery
  message: text
}

class Note {
  channel_id
  server_id
  channel_statistic_id
  user_id
  type: string : ack, mail
}

class ServerConfiguration {
  server_id
  comment: string
  # has_one_attached :file
}

Location "1" - - "*" Host
Host "1" - - "*" Server
SoftwareConnection "*" - - "1" "Server"
Server "1" - - "*" Channel
Server "1" - "*" ServerConfiguration
Server "1" - "*" ChannelStatistic
Channel "1" - "*" ChannelStatistic
ChannelCounter "*" - "1" Server
ChannelCounter "*" - - "1" Channel
ChannelCounter "*" - - "1" ChannelStatistic
Server "1" - - "*" Alert
Channel "0..1" - - "*" Alert
ChannelStatistic "0..1" - - "*" Alert
Server "1" - - "*" Note
Channel "0..1" - - "*" Note
ChannelStatistic "0..1" - - "*" Note

@enduml

PlantUML version 1.2022.5(Sat Apr 30 12:55:52 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>